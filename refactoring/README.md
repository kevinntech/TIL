# 백기선님의 코딩으로 학습하는 리팩토링
> 아래 내용은 [백기선님의 코딩으로 학습하는 리팩토링](https://www.inflearn.com/course/%EB%A6%AC%ED%8C%A9%ED%86%A0%EB%A7%81#curriculum "백기선님의 코딩으로 학습하는 리팩토링") 강좌를 정리한 내용 입니다.

## 1. 소개

### 강의 소개

* **(1) 리팩토링 ?**
  
    * `리팩토링 (Refactoring)` : 코드의 기능은 그대로 두면서 내부 구조를 조금 더 쉽게 이해하고 변경할 수 있도록 개선하는 작업을 말한다.
    
        * 처음부터 완벽하게 시스템을 설계하는 것은 매우 어려운 일이다.
        
        * 이미 코드를 작성한 이후에 구조를 변경하는 일이 발생한다.
        
        * 리팩토링으로 애플리케이션 구조를 꾸준히 개선해 나가야 한다.
        
        * 구조 변경으로 인한 버그를 줄이면서 코드를 깔끔하게 유지할 수 있는 방법이다.

* **(2) 강의 소개**

    * 현실적으로 대부분의 개발자는 IDE를 사용하고 있다. 
      
    * 글이 아니라 영상으로 리팩토링 과정을 보여준다.

    * 자바로 작성된 예제 코드를 제공한다.

    * 냄새 위주로 리팩토링을 살펴보자.
    
## 2. 이해하기 힘든 이름

### 1. [냄새 1] 이해하기 힘든 이름 (Mysterius Name)
 
* **(1) 냄새 ?**
  
    * `냄새 (smell)` : 리팩토링을 하고 싶은 코드를 의미한다.

* **(2) 이해하기 힘든 이름**
  
    * 깔끔한 코드에서 가장 중요한 것 중 하나가 바로 "좋은 이름"이다.
    
    * 변수, 함수, 클래스, 모듈의 이름은 어떤 역할을 하는지, 어떻게 쓰이는지 직관적이어야 한다.
    
    * 사용할 수 있는 리팩토링 기술은 다음과 같다.

        * 함수 선언 변경하기 (Change Function Declaration)

        * 변수 이름 바꾸기 (Rename Variable) 
          
        * 필드 이름 바꾸기 (Rename Field)

### 2. [리팩토링 1] 함수 선언 변경하기 (Change Function Declaration)

* 함수 선언 변경하기는 함수 이름, 메소드 이름을 변경하는 것, 매개변수를 추가하거나 제거하는 것, 시그니처를 변경하는 것을 의미한다.

* 좋은 이름을 찾아내는 방법은 무엇일까?
  
    * 함수에 함수가 하는 일을 주석으로 작성한 다음, 함수 이름으로 만든다.
    
* 함수의 매개변수는 다음과 같은 내용을 결정한다.

    * 함수 내부의 문맥을 결정한다.
        
        * Ex) 전화번호 포매팅 함수
    
            * 전화번호를 `000-0000-0000` 형식으로 만드는 함수가 있다고 가정한다.

            * 함수의 매개변수로 단순히 String를 받거나 전화번호를 가지고 있는 복합 타입 (Person, Store)을 받는지에 따라 함수 내부의 문맥이 달라진다.
    
            * 정답이 있는 것은 아니며 우리가 함수 내부에 더 많은 정보를 줄 것인지 필요한 정보만 줄 것인지를 결정하면 된다. 
    
                * 전화번호를 String 타입으로 함수에 전달 한다면 문자열 타입의 전화번호만 사용할 수 있다.
        
                * 전화번호를 가지고 있는 Person 객체를 전달 한다면 전화번호를 포함한 Person과 관련된 정보를 사용할 수 있다.
        
                    * Person이 가지고 있는 국가 정보를 활용해서 전화번호를 국가에 맞는 형식으로 만들 수 있다.  
        
    * 의존성을 결정한다.
    
        * Ex) Payment 만기일 계산 함수
    
            * 만기일이 지났는지 아닌지를 검사하는 함수가 있다고 가정한다.
              
            * 함수의 매개변수로 Payment를 받거나 Payment가 가지고 있는 만기일(due date)만 받는지에 따라 의존성의 범위가 달라진다.
    
            * 정답이 있는 것은 아니며 우리가 상황에 따라 결정하면 된다. 
    
### 3. [리팩토링 2] 변수 이름 바꾸기 (Rename Variable)

* 더 많이 사용되는 변수일수록 그 이름이 더 중요하다.

    * Ex) 람다식에서 사용하는 변수 vs 함수의 매개변수

* 다이나믹 타입을 지원하는 언어에서는 (타입을 추론하기 힘들기 때문에) 타입을 이름에 넣기도 한다.

* 여러 함수에 걸쳐 쓰이는 필드 이름에는 더 많이 고민하고 이름을 짓는다.

### 4. [리팩토링 3] 필드 이름 바꾸기 (Rename Field)

* Record 자료구조의 필드 이름은 프로그램 전반에 걸쳐 참조될 수 있기 때문에 매우 중요하다.

    * `Record` : 특정 데이터와 관련있는 필드를 묶어놓은 자료구조를 말한다.
      
        * 파이썬의 Dictionary, 또는 줄여서 dicts.

        * C#의 Record

        * Java의 record
          
            * 자바 14 버전부터 지원한다.

            * Immutable 하다.

            * record를 사용하기 전에 작성했던 DTO와 유사하다.
              
            * 자바에서는 Getter와 Setter 메소드 이름도 필드의 이름과 비슷하게 간주할 수 있다.